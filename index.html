<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ringed Spirals</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="controls" id="controls">
        <div class="controls-header">
            <button id="toggleBtn">Pause</button>
            <button id="clearBtn">Clear</button>
            <button id="hideBtn">Hide</button>
            <a href="https://github.com/blissful-code/spirals-v1" target="_blank" rel="noopener noreferrer" class="github-btn" title="View on GitHub">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                </svg>
            </a>
        </div>
        <div class="controls-note">
            <small>ðŸ’¡ Click/tap anywhere to bring this menu back</small>
        </div>
        
        <div class="controls-content">
        <div class="dual-range-container">
            <label>Ring Spacing Range:</label>
            <div class="dual-range-slider">
                <div class="range-track"></div>
                <div class="range-fill" id="spawnRangeFill"></div>
                <input type="range" id="spawnMinSlider" min="1" max="50" step="0.5" value="5">
                <input type="range" id="spawnMaxSlider" min="1" max="50" step="0.5" value="15">
            </div>
            <div class="dual-range-values">
                <span id="spawnMinValue">5% diag</span>
                <span id="spawnMaxValue">15% diag</span>
            </div>
        </div>
        
        
        
        <div class="slider-container">
            <label for="speedSlider">Expansion Speed:</label>
            <div class="dual-range-slider">
                <div class="range-track"></div>
                <div class="range-fill" id="speedRangeFill"></div>
                <input type="range" id="speedSlider" class="slider" min="5" max="50" step="1" value="15">
            </div>
            <div class="slider-value" id="speedValue">15% of screen diagonal/sec</div>
        </div>
        
        <div class="color-section">
            <label>Color Palette:</label>
            <div class="color-palette" id="colorPalette"></div>
            <div class="color-controls">
                <button id="addColorBtn" class="add-color-btn" title="Add new color">+</button>
                <button id="removeColorBtn" class="add-color-btn" title="Remove last color">âˆ’</button>
                <span class="color-count" id="colorCount">3 colors</span>
            </div>
            <div class="color-controls">
                <label style="display:flex; align-items:center; gap:6px;">
                    <input type="checkbox" id="randomizeOrder">
                    Randomize order
                </label>
            </div>
            <div class="color-info">
                Click colors to edit â€¢ Use + to add new colors â€¢ Use âˆ’ to remove last color
            </div>
        </div>
        
        <div class="color-section">
            <label>
                <input type="checkbox" id="separatorEnabled" checked>
                Ring Separator
            </label>
            <div class="color-controls">
                <input type="color" id="separatorColor" value="#000000" title="Separator color">
                <span class="color-info" style="margin: 0;">Plays between main colors</span>
            </div>
            
            <div class="dual-range-container">
                <label>Separator Ring Spacing:</label>
                <div class="dual-range-slider">
                    <div class="range-track"></div>
                    <div class="range-fill" id="separatorRangeFill"></div>
                    <input type="range" id="separatorMinSlider" min="0.5" max="10" step="0.1" value="1">
                    <input type="range" id="separatorMaxSlider" min="0.5" max="10" step="0.1" value="5">
                </div>
                <div class="dual-range-values">
                    <span id="separatorMinValue">1% diag</span>
                    <span id="separatorMaxValue">5% diag</span>
                </div>
            </div>
        </div>
        
        <div class="color-section">
            <label>Extras:</label>
            <div class="slider-container">
                <label style="display:flex; align-items:center; gap:6px;">
                    <input type="checkbox" id="viewportEnabled">
                    Circular viewport
                </label>
                <div class="slide-container triple-control collapsed" id="viewportSlideContainer">
                    <div class="dual-range-slider" id="viewportSizeControls">
                        <div class="range-track"></div>
                        <div class="range-fill" id="viewportRangeFill"></div>
                        <input type="range" id="viewportSizeSlider" class="slider" min="50" max="800" value="250">
                    </div>
                    <div class="slider-value" id="viewportSizeValue">250 px radius</div>

                    <label for="viewportOpacitySlider" id="viewportOpacityLabel" style="margin-top:8px;">Viewport Opacity:</label>
                    <div class="dual-range-slider" id="viewportOpacityControls">
                        <div class="range-track"></div>
                        <div class="range-fill" id="viewportOpacityRangeFill"></div>
                        <input type="range" id="viewportOpacitySlider" class="slider" min="0" max="100" step="1" value="95">
                    </div>
                    <div class="slider-value" id="viewportOpacityValue">95%</div>
                </div>
            </div>
            <div class="slider-container">
                <label style="display:flex; align-items:center; gap:6px;">
                    <input type="checkbox" id="extremeBiasEnabled">
                    Extreme Value Bias
                </label>
                <div class="slide-container dual-slider collapsed" id="extremeBiasSlideContainer">
                    <div class="dual-range-slider" id="extremeBiasControls">
                        <div class="range-track"></div>
                        <div class="range-fill" id="extremeBiasRangeFill"></div>
                        <input type="range" id="extremeBiasSlider" class="slider" min="0" max="100" step="1" value="75">
                    </div>
                    <div class="slider-value" id="extremeBiasValue">75% bias</div>
                </div>
                <div class="color-info" style="margin-top:4px;">
                    A stronger bias makes rings more likely to be extremely large or small
                </div>
            </div>
            <div class="slider-container">
                <label style="display:flex; align-items:center; gap:6px;">
                    <input type="checkbox" id="colorShiftEnabled">
                    Color Variation
                </label>
                <div class="slide-container dual-slider collapsed" id="colorShiftSlideContainer">
                    <div class="dual-range-slider" id="colorShiftControls">
                        <div class="range-track"></div>
                        <div class="range-fill" id="colorShiftRangeFill"></div>
                        <input type="range" id="colorShiftSlider" class="slider" min="0" max="50" step="1" value="15">
                    </div>
                    <div class="slider-value" id="colorShiftValue">15% variation</div>
                </div>
                <div class="color-info" style="margin-top:4px;">
                    Adds subtle color variations to colored rings
                </div>
            </div>
            <div class="slider-container">
                <label for="ttlSlider">Ring Lifetime:</label>
                <div class="dual-range-slider">
                    <div class="range-track"></div>
                    <div class="range-fill" id="ttlRangeFill"></div>
                    <input type="range" id="ttlSlider" class="slider" min="2000" max="60000" value="9000">
                </div>
                <div class="slider-value" id="ttlValue">9000ms</div>
            </div>
        </div>
        </div>
    </div>
    
    <canvas id="canvas"></canvas>
    <div id="viewportOverlay" aria-hidden="true"></div>

    <script src="main.js"></script>
    <script>
        // Only load GoatCounter analytics in production (not localhost, file://, or local IPs)
        // Local runners, this is for you. Run this on your own machine and it will not send analytics. 
        // If you'd like, you can safely delete this script tag (not the other one)
        if (window.location.hostname !== "localhost" && 
            window.location.hostname !== "127.0.0.1" &&
            !window.location.hostname.startsWith("192.168.") &&
            !window.location.hostname.startsWith("10.") &&
            window.location.protocol !== "file:") {
          var s = document.createElement("script");
          s.src = "//gc.zgo.at/count.js";
          s.dataset.goatcounter = "https://blissful-code.goatcounter.com/count";
          s.async = true;
          document.body.appendChild(s);
        }
    </script>
</body>
</html>
